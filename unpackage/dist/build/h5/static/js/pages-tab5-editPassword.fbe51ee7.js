(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tab5-editPassword"],{"2eed":function(t,a,e){"use strict";e.r(a);var n=e("9855"),s=e("ad01");for(var i in s)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(i);e("4e74");var o=e("f0c5"),r=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"099eaae2",null,!1,n["a"],void 0);a["default"]=r.exports},"4e74":function(t,a,e){"use strict";var n=e("715b"),s=e.n(n);s.a},"5ca0":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{attrs:{"data-v-6eb64883":""}},[t.isFirstSet?t._e():e("v-uni-form",{staticClass:"van-form",attrs:{"data-v-6eb64883":""}},[e("v-uni-view",{staticClass:"van-cell-group van-cell-group--inset van-hairline--top-bottom",attrs:{"data-v-6eb64883":""}},[e("v-uni-view",{staticClass:"van-cell van-field",attrs:{"data-v-6eb64883":""}},[e("v-uni-view",{staticClass:"van-cell__title van-field__label"},[e("span",[t._v("原密码")])]),e("v-uni-view",{staticClass:"van-cell__value van-field__value"},[e("v-uni-view",{staticClass:"van-field__body"},[e("v-uni-input",{staticClass:"van-field__control",attrs:{type:"password",maxlength:t.iptLength,name:"oldPassword",placeholder:"请输入原密码","placeholder-style":t.rules.old_password?"":"color: #ee0a24;"},model:{value:t.passwordData.old_password,callback:function(a){t.$set(t.passwordData,"old_password",a)},expression:"passwordData.old_password"}})],1)],1)],1),e("v-uni-view",{staticClass:"van-cell van-field",attrs:{"data-v-6eb64883":""}},[e("v-uni-view",{staticClass:"van-cell__title van-field__label"},[e("span",[t._v("新密码")])]),e("v-uni-view",{staticClass:"van-cell__value van-field__value"},[e("v-uni-view",{staticClass:"van-field__body"},[e("v-uni-input",{staticClass:"van-field__control",attrs:{type:"password",maxlength:t.iptLength,name:"newPassword",placeholder:"请输入新密码","placeholder-style":t.rules.new_password?"":"color: #ee0a24;"},model:{value:t.passwordData.new_password,callback:function(a){t.$set(t.passwordData,"new_password",a)},expression:"passwordData.new_password"}})],1)],1)],1)],1),e("v-uni-view",{staticStyle:{margin:"16px"},attrs:{"data-v-6eb64883":""}},[e("v-uni-button",{staticClass:"van-button van-button--primary van-button--normal van-button--block van-button--round",staticStyle:{color:"white",background:"linear-gradient(to right, rgb(255, 96, 52), rgb(238, 10, 36))",border:"0px"},attrs:{"data-v-6eb64883":"",type:"submit"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.editAction.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"van-button__content",attrs:{"data-v-6eb64883":""}},[e("span",{staticClass:"van-button__text",attrs:{"data-v-6eb64883":""}},[t._v("立即修改")])])],1)],1)],1),e("keyInput",{attrs:{visable:!!t.isFirstSet,payPassword:t.payPassword},on:{"update:payPassword":function(a){arguments[0]=a=t.$handleEvent(a),t.payPassword=a},"update:pay-password":function(a){arguments[0]=a=t.$handleEvent(a),t.payPassword=a},submit:function(a){arguments[0]=a=t.$handleEvent(a),t.buyProject.apply(void 0,arguments)}}})],1)},s=[]},"715b":function(t,a,e){var n=e("9b4d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("4f06").default;s("2bedfe39",n,!0,{sourceMap:!1,shadowMode:!1})},7243:function(t,a,e){"use strict";e.r(a);var n=e("5ca0"),s=e("ebf1");for(var i in s)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(i);var o=e("f0c5"),r=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"00ef71e9",null,!1,n["a"],void 0);a["default"]=r.exports},"943a":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3"),e("d401"),e("d3b7"),e("25f0"),e("14d9");var n={name:"keyInput",data:function(){return{startPageY:0}},props:{visable:{type:Boolean,default:!1},payPassword:{type:[String,Number],default:""}},watch:{payPassword:function(t){console.log("val",t)}},computed:{focusIndex:function(){return this.payPassword.length>0?this.payPassword.length+1:1}},methods:{touchstart:function(t){this.startPageY=t.changedTouches[0].pageY},touchend:function(t){var a=t.changedTouches[0].pageY-this.startPageY;if(a>30)return this.close()},close:function(){this.$emit("update:visable",!1),this.$emit("update:payPassword","")},clickNum:function(t){var a=this.payPassword.toString(),e=a.split("");e.length>5||(e.push(t),this.$emit("update:payPassword",e.join("")))},curtNum:function(){var t=this.payPassword.toString(),a=t.split("");a.length<0||(a.pop(),this.$emit("update:payPassword",a.join("")))},buy:function(){this.$emit("submit")}}};a.default=n},9855:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-form",{staticClass:"mt15 passwdForm van-form",style:t.visable?"":"display: none;",attrs:{"data-v-27860fe4":""},on:{touchend:function(a){arguments[0]=a=t.$handleEvent(a),t.touchend.apply(void 0,arguments)},touchstart:function(a){arguments[0]=a=t.$handleEvent(a),t.touchstart.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"van-cell-group van-cell-group--inset van-hairline--top-bottom",attrs:{"data-v-27860fe4":""}},[e("v-uni-view",{staticClass:"van-password-input",attrs:{"data-v-27860fe4":""}},[e("ul",{staticClass:"van-password-input__security",attrs:{"data-v-27860fe4":"",height:"90%"}},t._l(6,(function(a){return e("li",{key:a,staticClass:"van-password-input__item van-password-input__item--focus",attrs:{"data-v-27860fe4":""}},[e("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:a<t.focusIndex,expression:"item < focusIndex"}],staticClass:"black-circle",attrs:{"data-v-27860fe4":""}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.focusIndex==a,expression:"focusIndex == item"}],staticClass:"van-password-input__cursor",attrs:{"data-v-27860fe4":""}})],1)})),0)])],1),e("v-uni-view",{staticClass:"van-number-keyboard",attrs:{"data-v-27860fe4":""}},[e("v-uni-view",{staticClass:"van-number-keyboard__body"},[e("v-uni-view",{staticClass:"van-number-keyboard__keys"},[t._l(9,(function(a){return e("v-uni-view",{key:a,staticClass:"van-key__wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickNum(a)}}},[e("v-uni-view",{staticClass:"van-key click-class",attrs:{role:"button",tabindex:"0"}},[t._v(t._s(a))])],1)})),e("v-uni-view",{staticClass:"van-key__wrapper",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"van-key click-class",attrs:{role:"button",tabindex:"0"}},[e("v-uni-image",{staticClass:"van-key__delete-icon",attrs:{src:"/static/gongfu/jianpan.png",mode:"widthFix"}})],1)],1),e("v-uni-view",{staticClass:"van-key__wrapper",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickNum(0)}}},[e("v-uni-view",{staticClass:"van-key click-class",attrs:{role:"button",tabindex:"0"}},[t._v("0")])],1),e("v-uni-view",{staticClass:"van-key__wrapper"},[e("v-uni-view",{staticClass:"van-key van-key--delete click-class",attrs:{role:"button",tabindex:"0"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.curtNum.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"van-key__delete-icon",attrs:{src:"/static/gongfu/delete.png",mode:"widthFix"}})],1)],1)],2)],1)],1),e("v-uni-view",{staticStyle:{margin:"16px"},attrs:{"data-v-27860fe4":""}},[e("v-uni-button",{staticClass:"van-button van-button--primary van-button--normal van-button--block van-button--round",staticStyle:{color:"white",background:"linear-gradient(to right, rgb(255, 96, 52), rgb(238, 10, 36))",border:"0px"},attrs:{"data-v-27860fe4":"",type:"submit"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.buy.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"van-button__content",attrs:{"data-v-27860fe4":""}},[e("v-uni-text",{staticClass:"van-button__text",attrs:{"data-v-27860fe4":""}},[t._v("确认")])],1)],1)],1)],1)},s=[]},"9b4d":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,'[data-v-27860fe4] .van-overlay[data-v-099eaae2]{display:block}[data-v-27860fe4] .van-tabs__wrap[data-v-099eaae2]{height:55px}[data-v-27860fe4] .time-item-uint[data-v-099eaae2]{font-size:15px}[data-v-27860fe4] .van-dialog__header[data-v-099eaae2]{padding:14px 0}[data-v-27860fe4] .van-field__control[data-v-099eaae2]{text-align:center;font-size:15px}[data-v-27860fe4] .passwdForm[data-v-099eaae2]{position:fixed;width:100%;bottom:242px;z-index:2000;background-color:#fff}[data-v-27860fe4] .van-cell-group--inset[data-v-099eaae2]{margin:20px 16px}.van-hairline--top-bottom[data-v-27860fe4][data-v-099eaae2]:after,\n.van-hairline-unset--top-bottom[data-v-27860fe4][data-v-099eaae2]:after{border-width:0 0}.van-password-input__security li[data-v-27860fe4][data-v-099eaae2]{height:95%;background-color:#f2f3f5;border-radius:5px}.project-item-title[data-v-27860fe4][data-v-099eaae2]{align-items:center;justify-content:space-between;font-size:16px;font-weight:600;width:95%;color:#fff;margin:0 auto;overflow:hidden;margin-top:8px}.project-item[data-v-27860fe4][data-v-099eaae2]{background:url(/static/gongfu/project-2.6d3fff46.png);background-size:100% 100%;background-repeat:no-repeat;width:90vw;margin:20px auto;overflow:hidden}.project-item[data-v-27860fe4][data-v-099eaae2]:last-child{margin-bottom:10px}.project-item-2[data-v-27860fe4][data-v-099eaae2]{background:url(/static/gongfu/project-1.c05d61c0.png);background-size:100% 100%;background-repeat:no-repeat;width:90vw;margin:20px auto;overflow:hidden}.project-item-2[data-v-27860fe4][data-v-099eaae2]:last-child{margin-bottom:10px}.van-button--small[data-v-27860fe4][data-v-099eaae2]{font-size:15px}.project-item-info[data-v-27860fe4][data-v-099eaae2]{width:100%;display:flex;height:280px;flex-direction:column;justify-content:space-around}.project-item-cotent[data-v-27860fe4][data-v-099eaae2]{width:80%;margin:0 auto;display:flex;align-content:center}.project-item-money[data-v-27860fe4][data-v-099eaae2]{color:#ce2140;font-size:18px;font-weight:600;letter-spacing:3px;line-height:30px}.project-item-top[data-v-27860fe4][data-v-099eaae2]{width:100%;margin:0 auto;justify-content:center;text-shadow:#fff -1px 0,#fff 0 3px,#fff 3px 0,#fff 0 -1px}.money-title[data-v-27860fe4][data-v-099eaae2]{line-height:30px;color:#898b98;font-size:15px;font-weight:600}.qipao[data-v-27860fe4][data-v-099eaae2]{width:93%;height:56px;background:url(/static/gongfu/project-icon.36b45e4c.png);background-size:100% 100%;background-repeat:no-repeat;border-radius:5px;position:relative;font-size:13px;font-weight:600;display:flex;flex-direction:column;justify-content:center}.qipao[data-v-27860fe4][data-v-099eaae2]:before{content:"";width:0;height:0;border:1px solid;position:absolute;bottom:-41px;left:80px;border-color:#e99a1c transparent transparent}.step-money[data-v-27860fe4][data-v-099eaae2]{width:100%;height:25px;border-bottom-left-radius:50% 40%;border-bottom-right-radius:50% 40%;border-top-left-radius:5px;border-top-right-radius:5px;line-height:30px;font-size:15px;color:#ce2140;text-align:center}.step-money-label[data-v-27860fe4][data-v-099eaae2],\n.step-money-title[data-v-27860fe4][data-v-099eaae2]{color:#ce2140;font-size:14px;font-weight:600;text-align:center}.step-money-title[data-v-27860fe4][data-v-099eaae2]{width:100%;padding:2px 5px;border-radius:5px;background-color:#ce2140;color:#fef4d2;font-size:14px}.bor[data-v-27860fe4][data-v-099eaae2],\n.left-bor[data-v-27860fe4][data-v-099eaae2],\n.right-bor[data-v-27860fe4][data-v-099eaae2]{width:5.5vw;height:5px}.left-bor[data-v-27860fe4][data-v-099eaae2]{border-top-left-radius:5px;border-bottom-left-radius:5px}.right-bor[data-v-27860fe4][data-v-099eaae2]{border-top-right-radius:5px;border-bottom-right-radius:5px}.black-circle[data-v-099eaae2]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:10px;height:10px;background-color:#000;border-radius:100%}.van-password-input__item[data-v-099eaae2]{margin-left:10px}.van-password-input__item[data-v-099eaae2]:first-child{margin-left:0}.click-class[data-v-099eaae2]:active{background-color:#ebedf0}.passwdForm[data-v-099eaae2]{z-index:1000!important}',""]),t.exports=a},a43f:function(t,a,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("c975"),e("07ac");var s=n(e("5530")),i=n(e("c7eb")),o=n(e("1da1")),r=n(e("2eed")),d={components:{keyInput:r.default},data:function(){return{type:"",passwordData:{old_password:"",new_password:""},set_pay_password:0,rules:{old_password:!0,new_password:!0},iptLength:100,isFirstSet:!1,payPassword:""}},onLoad:function(t){var a=t.type,e=t.isFirstSet;console.log("type",a,e),this.type=a,this.isFirstSet=e,this.set_pay_password=e?1:0,e?uni.setNavigationBarTitle({title:"设置支付密码"}):(this.iptLength=a?6:100,uni.setNavigationBarTitle({title:a?"修改支付密码":"修改登录密码"}))},onShow:function(t){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var e,n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return uni.showLoading(),a.next=3,t.$API.findUserInfo();case 3:e=a.sent,n=e||{},t.userInfo=n,t.isFirstSet=n.set_pay_password<1||"";case 7:case"end":return a.stop()}}),a)})))()},editAction:function(){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var e,n,o,r;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n in e=t,t.passwordData)t.rules[n]=!!t.passwordData[n];if(-1===Object.values(t.rules).indexOf(!1)){a.next=5;break}return console.log("this.rules",t.rules),a.abrupt("return");case 5:if(!(t.passwordData.new_password.length<6)){a.next=7;break}return a.abrupt("return",t.$textToast("新密码长度不能少于6位","none"));case 7:return uni.showLoading(),o="pay"===t.type?{old_pay_password:t.passwordData.old_password,new_pay_password:t.passwordData.new_password}:t.passwordData,a.next=11,t.$API.profile((0,s.default)((0,s.default)({},o),{},{set_pay_password:0}));case 11:if(r=a.sent,r){a.next=14;break}return a.abrupt("return");case 14:"pay"===t.type&&t.$textToast("修改成功","success"),setTimeout((function(){if(!e.type)return e.$store.commit("loginOut","密码修改成功，请重新登录");uni.navigateBack({delta:1})}),1e3);case 16:case"end":return a.stop()}}),a)})))()},buyProject:function(){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var e,n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.payPassword.length<6)){a.next=2;break}return a.abrupt("return",t.$textToast("密码长度不能少于6位","none"));case 2:return uni.showLoading(),e={set_pay_password:1,new_pay_password:t.payPassword},a.next=6,t.$API.profile(e);case 6:if(n=a.sent,n){a.next=9;break}return a.abrupt("return");case 9:t.$textToast("支付密码设置成功","success"),setTimeout((function(){uni.navigateBack({delta:1})}),1e3);case 11:case"end":return a.stop()}}),a)})))()}}};a.default=d},ad01:function(t,a,e){"use strict";e.r(a);var n=e("943a"),s=e.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=s.a},ebf1:function(t,a,e){"use strict";e.r(a);var n=e("a43f"),s=e.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=s.a}}]);